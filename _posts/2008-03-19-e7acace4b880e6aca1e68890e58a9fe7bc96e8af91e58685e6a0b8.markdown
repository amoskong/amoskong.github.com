---
author: amosk
comments: true
date: 2008-03-19 15:24:34+00:00
layout: post
slug: '%e7%ac%ac%e4%b8%80%e6%ac%a1%e6%88%90%e5%8a%9f%e7%bc%96%e8%af%91%e5%86%85%e6%a0%b8'
title: 第一次成功编译内核
wordpress_id: 205
categories:
- Linux
---

昨天晚上去老校区旁听陈老师讲内核，我还以为是在大教室，没想到竟然在一个小会议室里边，怪不得陈老师没有给上面小组“通知”。

听了三个小时，前半部份讲的好多感觉都看过，而且还都记着。等下半节讲与硬件相关的东西就那不中了，把段、页 和寄存器搞到一块就有点乱了，理一理~~理一理~~

今天中午编写了一个Hello的模块，成功运行。并用lsmod等命令检查了一下。以前看着书写这个程序没成功 ，原来是2.4和2.6有点区别。

到kernel.org 下载最新稳定版内核源码包，打开ubuntu的ssh，在virturlBox里的红旗下用scp靠进去，一点半开始编译，make那一步两点一十二还没搞定，于是 shutdown -h +17 。晚上回来打开电脑，也不知道编译晚没，继续下边的

#make modules    //编译模块
#make modules_install   //将编译好的模块安装到/lib/modules/2.6.24/这个目录下
#make install

居然连Grub都自动更改了。init 6重启后，成功进入。

用 uname  -a 查看已经成功升级到2.6.24.3

关于2.6内核编译可参考：[http://www.lupaworld.com/151392/viewspace_43406.html](http://www.lupaworld.com/151392/viewspace_43406.html)

ubuntu内核编译参考：[http://www.lupaworld.com/151392/viewspace_44104.html](http://www.lupaworld.com/151392/viewspace_44104.html)
