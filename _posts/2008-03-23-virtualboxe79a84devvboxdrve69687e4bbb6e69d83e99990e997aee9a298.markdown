---
author: amosk
comments: true
date: 2008-03-23 11:50:21+00:00
layout: post
slug: virtualbox%e7%9a%84devvboxdrv%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90%e9%97%ae%e9%a2%98
title: virtualBox的/dev/vboxdrv文件权限问题
wordpress_id: 208
categories:
- Linux
---

最近编译内核经常用到虚拟机 virturlbox，启动虚拟机里的linux都提示权限不足。于是用chmod更改/dev/vboxdrv权限，然后可以正常启动。但重启Ubuntu后，权限会自动变回去，每次都这样修改太麻烦了。

原来 /dev里的东西不是在硬盘上的，而是udev命名的内核处理的东西。文件的权限是udev设置的，或者跟内核模块本身有关。chmod之后虽然好用，但这一修改并未写入硬盘，所以重启又变回去了。可以修改udev的配置文件：/etc/udev/rules.d/50-vboxdrv.rules（不一定是50，也可能是其他数字）

文件内容如下：
KERNEL=="vboxdrv", NAME="vboxdrv", OWNER="root", GROUP="vboxusers", MODE="0660"

其实最简单的方法就是把自己添加到 vboxusers组里就行了。

在X下，System -> Administration -> Users and Groups，然后Manage groups，找到vboxusers，下面列出了成员，在用户前打上勾，退出重启就ok了。

命令行：usermod -a -G vboxusers username

BTW：感觉在虚拟机里运行命令行界面太爽了，连鼠标都不用贴换进去，只需要激活窗口就行了。
